-- Use this file to write the SQL needed to create the basic tables for your databse
-- These tables are where you are putting the data generated by the bar as well as the relevant data from the cocktails database.
DROP TABLE IF EXISTS glasses_dim
DROP TABLE IF EXISTS drinks_dim
DROP TABLE IF EXISTS bar_dim
DROP TABLE IF EXISTS prices
DROP TABLE IF EXISTS sales
DROP TABLE IF EXISTS stock

CREATE TABLE glasses_dim (
        GlassID int NOT NULL PRIMARY KEY,
        GlassName varchar(255) NOT NULL
    )

CREATE TABLE drinks_dim (
        DrinkID int NOT NULL PRIMARY KEY,
        DrinkName varchar(255) NOT NULL,
        GlassID int NOT NULL,
        FOREIGN KEY (GlassID) REFERENCES glasses_dim(GlassID)
    )

CREATE TABLE bar_dim (
        BarID int NOT NULL PRIMARY KEY,
        BarName varchar(255) NOT NULL
    )

CREATE TABLE prices (
        DrinkID int NOT NULL,
        BarID int NOT NULL,
        Price real NOT NULL,
        FOREIGN KEY (DrinkID) REFERENCES drinks_dim(DrinkID),
        FOREIGN KEY (BarID) REFERENCES bar_dim(BarID)
        CONSTRAINT PK_prices PRIMARY KEY (BarID,DrinkID)
    )

CREATE TABLE sales (
        Time real NOT NULL ,
        DrinkID int NOT NULL,
        BarID int NOT NULL,
        FOREIGN KEY (DrinkID) REFERENCES drinks_dim(DrinkID),
        FOREIGN KEY (BarID) REFERENCES bar_dim(BarID)
    )

CREATE TABLE stock (
        BarID int NOT NULL,
        GlassID int NOT NULL,
        Stock int NOT NULL,
        FOREIGN KEY (BarID) REFERENCES bar_dim(BarID),
        FOREIGN KEY (GlassID) REFERENCES glasses_dim(GlassID)
        CONSTRAINT PK_stock PRIMARY KEY (BarID,GlassID)
    )